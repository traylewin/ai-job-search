# Job Hunt Agent

An AI-powered personal job search assistant that makes sense of messy, real-world job search data. Built with Next.js 16, Claude Sonnet 4.5, and the Vercel AI SDK.

**Live demo:** Deployed on Vercel with Google OAuth sign-in.

## Architecture

```
┌─────────────────────────────────────────────────────┐
│                    Web UI (React)                     │
│  ┌──────────┐  ┌──────────────┐  ┌────────────────┐ │
│  │ Sources   │  │ Chat +       │  │ Tracker        │ │
│  │ Sidebar   │  │ Tool Traces  │  │ (full page)    │ │
│  │           │  │ + Alerts     │  │                │ │
│  └──────────┘  └──────────────┘  └────────────────┘ │
└──────────────────────┬──────────────────────────────┘
                       │ useChat (AI SDK v6)
┌──────────────────────┴──────────────────────────────┐
│              API Layer (Next.js Routes)               │
│  POST /api/chat     GET /api/alerts                   │
│  POST /api/ingest   POST /api/delete-all-data         │
└──────────────────────┬──────────────────────────────┘
                       │ streamText + stopWhen(10)
┌──────────────────────┴──────────────────────────────┐
│             Agent Core (Vercel AI SDK)                │
│  Claude Sonnet 4.5 ←→ 12 Tools (Zod schemas)        │
│  System prompt with proactive alerts context          │
└──────────────┬───────────────────┬──────────────────┘
               │                   │
┌──────────────┴─────┐  ┌─────────┴──────────────────┐
│    Data Parsers     │  │      Vector Search          │
│  HTML (cheerio)     │  │  Pinecone Inference API     │
│  Email (JSON)       │  │  llama-text-embed-v2        │
│  CSV (papaparse)    │  │  (1024 dimensions)          │
│  Resume (TXT)       │  │                             │
│  Notes (MD)         │  │                             │
└────────────────────┘  └────────────────────────────┘
```

## Tech Stack

- **Runtime**: Next.js 16 (App Router, TypeScript)
- **UI**: React 19 + Tailwind CSS 4
- **LLM**: Anthropic Claude Sonnet 4.5 via `@ai-sdk/anthropic`
- **Agent Loop**: Vercel AI SDK v6 (`streamText` with `stopWhen: stepCountIs(10)`)
- **Vector Search**: Pinecone (semantic search, 3 namespaces)
- **Embeddings**: Pinecone Inference API `llama-text-embed-v2` (1024 dimensions)
- **Real-time DB**: InstantDB (conversations, tracker, parsed data)
- **Auth**: Google OAuth via `@react-oauth/google`
- **Deployment**: Vercel

## Setup

### 1. Install and configure

```bash
npm install
```

Copy `.env.local.example` to `.env.local` and fill in your keys:

```
ANTHROPIC_API_KEY=...
PINECONE_API_KEY=...
PINECONE_INDEX=jobhunt
NEXT_PUBLIC_INSTANT_APP_ID=...
NEXT_PUBLIC_GOOGLE_CLIENT_ID=...
NEXT_PUBLIC_GOOGLE_CLIENT_NAME=google-web
```

### 2. Set up Pinecone

Create a Pinecone index with 1024 dimensions and cosine metric (matching `llama-text-embed-v2`). Embeddings are generated by Pinecone's Inference API -- no separate OpenAI key needed.

### 3. Run

```bash
npm run dev
```

Open http://localhost:3000. Sign in with Google, then click **Load Sample Data** to ingest the bundled dataset.

### 4. Deploy

```bash
./deploy.sh          # preview
./deploy.sh --prod   # production
```

## 12 Tools

| Tool | Purpose |
|------|---------|
| `searchJobs` | Semantic search across job postings |
| `searchEmails` | Filter/search emails by query, company, type |
| `queryTracker` | Query application tracker with filters |
| `readJobPosting` | Deep-read a specific posting |
| `readEmailThread` | Full email thread chronologically |
| `readResume` | Resume sections (summary, experience, skills...) |
| `readPreferences` | Job search notes and preferences |
| `computeDates` | Date math (diffs, business days, deadlines) |
| `readRawFile` | Raw file fallback when structured parsing fails |
| `updateTracker` | Update an existing tracker entry |
| `addJobToTracker` | Add a new job to the tracker |
| `draftEmail` | Compose follow-up/negotiation emails |

## Key Features

- **Proactive alerts** on page load: stale applications, upcoming interviews, offer deadlines, overdue follow-ups
- **Multi-step reasoning** up to 10 tool calls per query with streaming responses
- **Conversation memory** persisted across sessions via InstantDB
- **Tool call traces** visible as collapsible cards in the chat
- **Draft email cards** with one-click copy
- **Sources sidebar** for browsing jobs, emails, resume, and notes
- **Tracker view** with full application pipeline
- **Mobile responsive** with dynamic viewport height handling

## Documentation

- [DECISIONS.md](DECISIONS.md) -- Technical decisions and how they map to the requirements
- [docs/PROBLEM.md](docs/PROBLEM.md) -- Original assignment
- [docs/PLAN.md](docs/PLAN.md) -- Build plan
- [docs/UX_PLAN.md](docs/UX_PLAN.md) -- UX design plan

## What I'd Improve With More Time

- Improves test cases - more comprehensive and diverse - especially around parsing and model response
- Daily/weekly action plans generated on startup
- Diff-aware updates -- detect new emails/changes incrementally
- Export -- generate markdown/HTML interview prep docs
- Email and Calendar integration - Google Enail and Calendar API auto-ingestion to keep sources updated
- Add CLI interface for easy access to the agent
